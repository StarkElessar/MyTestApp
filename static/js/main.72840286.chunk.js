(this["webpackJsonpmy-project"]=this["webpackJsonpmy-project"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(18),r=n.n(c),i=(n(28),n(7)),l=n(2),o=(n(29),n(11)),u=Object(a.createContext)(),d="AUTHENTICATED",j="UPDATE_EMAIL",h="UPDATE_PASSWORD",b="UPDATE_FIRST_NAME",m="UPDATE_LAST_NAME",p="UPDATE_CHANNEL_ID",x="UPDATE_CHANNEL_TITLE",O="UPDATE_CHANNEL_DESCRIPTION",g="UPDATE_INPUT_TEXT_MESSAGE",N="SEND_MESSAGE",v="CLEAR_GLOBAL_STATE",_=n(10),f=n(14),C={isAuthenticated:JSON.parse(localStorage.getItem("isAuthenticated"))||!1,user:{email:"",password:"",firstName:"Stark",lastName:"",avatar:"https://themified.com/friend-finder/images/users/user-4.jpg"},channel:{id:null,title:"",description:"",inputTextMessage:"",messages:[]}},E=function(e,t){var n=Object(f.b)(e);switch(t.type){case d:return n.setIn(["isAuthenticated"],!0).toJS();case j:return n.setIn(["user","email"],t.email).toJS();case h:return n.setIn(["user","password"],t.password).toJS();case b:return n.setIn(["user","firstName"],t.firstName).toJS();case m:return n.setIn(["user","lastName"],t.lastName).toJS();case p:return n.setIn(["channel","id"],t.id).toJS();case x:return n.setIn(["channel","title"],t.title).toJS();case O:return n.setIn(["channel","description"],t.description).toJS();case g:return n.setIn(["channel","inputTextMessage"],t.text).toJS();case N:return n.updateIn(["channel","messages"],(function(e){return e.push(Object(f.a)(Object(_.a)({id:n.getIn(["channel","messages"]).size+1},t.message)))})).toJS();case v:return C;default:return e}},S=n(0),y=function(e){var t=e.children,n=Object(a.useReducer)(E,C),s=Object(o.a)(n,2),c=s[0],r=function(e){return{authenticate:function(){return e({type:d})},updateEmail:function(t){return e({type:j,email:t})},updatePassword:function(t){return e({type:h,password:t})},updateFirstName:function(t){return e({type:b,firstName:t})},updateLastName:function(t){return e({type:m,lastName:t})},updateChannelId:function(t){return e({type:p,id:t})},updateChannelTitle:function(t){return e({type:x,title:t})},updateChannelDescription:function(t){return e({type:O,description:t})},updateInputMessage:function(t){return e({type:g,text:t})},sendMessage:function(t){return e({type:N,message:t})},clearGlobalState:function(){return e({type:v})}}}(s[1]);return Object(S.jsx)(u.Provider,{value:{state:c,actions:r},children:t})},w=n(23),A=["component"],T=function(e){var t=e.component,n=Object(w.a)(e,A),s=Object(a.useContext)(u).state.isAuthenticated;return Object(S.jsx)(l.b,Object(_.a)(Object(_.a)({},n),{},{render:function(e){var n=e.location;return s?Object(S.jsx)(t,{}):Object(S.jsx)(l.a,{to:{pathname:"/login",state:{from:n}}})}}))},I=(n(35),function(){var e=Object(a.useContext)(u),t=e.state.user,n=t.email,s=t.password,c=e.actions,r=c.authenticate,l=c.updateEmail,o=c.updatePassword;return Object(S.jsx)("div",{className:"login__container",children:Object(S.jsx)("div",{className:"login__wrapper",children:Object(S.jsxs)("form",{children:[Object(S.jsxs)("div",{className:"label__input",children:[Object(S.jsx)("label",{htmlFor:"email",children:"Email"}),Object(S.jsx)("input",{value:n,onChange:function(e){return l(e.target.value)},type:"text",id:"email",name:"user_email",placeholder:"Enter Your Email",required:!0})]}),Object(S.jsxs)("div",{className:"label__input",children:[Object(S.jsx)("label",{htmlFor:"pass",children:"Password"}),Object(S.jsx)("input",{value:s,onChange:function(e){return o(e.target.value)},type:"password",id:"pass",name:"user_pass",placeholder:"Enter Your Password",required:!0})]}),Object(S.jsx)("div",{className:"label__input",children:Object(S.jsx)(i.b,{to:"/main-page",children:Object(S.jsx)("button",{disabled:!n||!s,onClick:function(){localStorage.setItem("isAuthenticated",!0),r()},children:"Login"})})})]})})})}),M=(n(36),n.p+"static/media/settings.0ce7a5bb.svg"),D=function(e){var t=e.closeModal,n=e.isVisible,s=Object(a.useContext)(u),c=s.state.channel,r=c.id,i=c.title,o=c.description,d=s.actions,j=d.updateChannelId,h=d.updateChannelTitle,b=d.updateChannelDescription,m=Object(l.g)();return Object(a.useEffect)((function(){r&&m.push("/new-channel/".concat(r))}),[r]),Object(S.jsx)("div",{onClick:t,className:n?"newChannel show":"newChannel",children:Object(S.jsxs)("div",{onClick:function(e){return e.stopPropagation()},children:[Object(S.jsx)("h2",{children:"New Channel"}),Object(S.jsxs)("form",{children:[Object(S.jsx)("input",{onChange:function(e){return h(e.target.value)},type:"text",placeholder:"Channel Title..",value:i,required:!0}),Object(S.jsx)("input",{onChange:function(e){return b(e.target.value)},type:"text",placeholder:"Channel Description",value:o,required:!0}),Object(S.jsx)("input",{onClick:function(){return j(Date.now())},disabled:!i||!o,type:"submit",value:"Create"})]})]})})},P=function(){var e=Object(a.useContext)(u).state.user,t=e.firstName,n=e.avatar,s=Object(a.useState)(!1),c=Object(o.a)(s,2),r=c[0],l=c[1],d=function(){return l(!r)};return Object(S.jsxs)("div",{className:"main-page__wrapper",children:[Object(S.jsx)("div",{className:"header",children:Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("button",{onClick:d,children:"Create a channel"}),Object(S.jsxs)("div",{className:"mini-nav",children:[Object(S.jsx)("span",{className:"user-login",children:t}),Object(S.jsx)("div",{className:"user__avatar",children:Object(S.jsx)("img",{src:n,alt:"user__avatar"})}),Object(S.jsxs)(i.b,{className:"icon-settings",to:"/user-settings",children:[Object(S.jsx)("img",{className:"icon-settings",src:M,alt:"icon-settings"}),Object(S.jsx)("span",{className:"icon-label",children:"User Settings"})]})]})]})}),Object(S.jsx)("div",{className:"body",children:Object(S.jsx)("h1",{children:"Welcome to test chat"})}),Object(S.jsx)(D,{closeModal:d,isVisible:r})]})},L=n(22),k=n(21),J=(n(37),function(e){var t=e.userName,n=e.text,a=e.avatar,s=e.style,c="echo"===t?"echo__message":"user__message";return Object(S.jsxs)("div",{className:c,style:s,children:[Object(S.jsx)("div",{className:"user__avatar",children:Object(S.jsx)("img",{src:a,alt:"user-avatar"})}),Object(S.jsxs)("div",{className:"text__block",children:[Object(S.jsx)("span",{className:"user__name",children:t}),Object(S.jsx)("span",{className:"user__messages",children:n})]})]})}),U=function(){var e=Object(a.useContext)(u),t=e.state,n=t.user,s=n.firstName,c=n.lastName,r=n.avatar,l=t.channel,o=l.title,d=l.description,j=l.inputTextMessage,h=l.messages,b=e.actions,m=b.clearGlobalState,p=b.updateInputMessage,x=b.sendMessage;return Object(S.jsx)("div",{className:"new-channel__wrapper",children:Object(S.jsxs)("div",{className:"new-channel__body",children:[Object(S.jsxs)("div",{className:"new-channel__header",children:[Object(S.jsxs)("div",{className:"title-block",children:[Object(S.jsx)("h2",{children:o}),Object(S.jsx)("span",{children:d})]}),Object(S.jsx)(i.b,{to:"/login",children:Object(S.jsx)("button",{onClick:function(){localStorage.setItem("isAuthenticated",!1),m()},className:"logout__btn",children:"Logout"})})]}),Object(S.jsx)("div",{className:"chat__body",children:Object(S.jsx)(k.a,{children:function(e){var t=e.height,n=e.width;return Object(S.jsx)(L.a,{itemCount:h.length,itemSize:80,height:t,width:n,children:function(e){var t=e.index,n=e.style,a=h[t],s=a.id,c=a.userName,r=a.text,i=a.avatar;return Object(S.jsx)(J,{userName:c,text:r,avatar:i,style:n},s)}})}})}),Object(S.jsxs)("form",{className:"chat__footer",children:[Object(S.jsx)("textarea",{onChange:function(e){return p(e.target.value)},value:j,placeholder:"Type Your Message..",name:"user_text",id:"user_text"}),Object(S.jsx)("button",{onClick:function(e){e.preventDefault(),x({userName:"".concat(s," ").concat(c),text:j,avatar:r}),p(""),setTimeout((function(){x({userName:"echo",text:Math.random().toString(36).substring(2,20),avatar:"https://thumbs.dreamstime.com/b/robot-icon-robot-icon-vector-flat-illustration-graphic-web-design-isolated-black-background-artificial-intelligen-188465910.jpg"})}),Math.floor(2e3*Math.random())+1e3)},children:"Send"})]})]})})},F=(n(38),function(){var e=Object(a.useContext)(u),t=e.state.user,n=t.firstName,s=t.lastName,c=e.actions,r=c.updateFirstName,l=c.updateLastName;return Object(S.jsx)("div",{className:"settings__container",children:Object(S.jsxs)("div",{className:"settings__wrapper",children:[Object(S.jsx)("h2",{children:"User Settings"}),Object(S.jsx)("div",{className:"col-1",children:Object(S.jsx)("div",{className:"avatar",children:Object(S.jsx)("img",{src:"https://themified.com/friend-finder/images/users/user-4.jpg",alt:"user-avatar"})})}),Object(S.jsxs)("div",{className:"col-2",children:[Object(S.jsxs)("div",{className:"label__input",children:[Object(S.jsx)("label",{htmlFor:"pass",children:"First Name:"}),Object(S.jsx)("input",{onChange:function(e){return r(e.target.value)},className:"input__setting",type:"text",placeholder:"Enter your First Name..",value:n})]}),Object(S.jsxs)("div",{className:"label__input",children:[Object(S.jsx)("label",{htmlFor:"pass",children:"Last Name:"}),Object(S.jsx)("input",{onChange:function(e){return l(e.target.value)},className:"input__setting",type:"text",placeholder:"Enter your Last Name..",value:s})]}),Object(S.jsx)(i.b,{to:"/main-page",children:Object(S.jsx)("button",{disabled:!n||!s,className:"apply-btn",children:"Apply"})})]})]})})}),G=function(){return Object(S.jsx)(y,{children:Object(S.jsx)(i.a,{children:Object(S.jsx)("div",{className:"wrapper",children:Object(S.jsxs)(l.d,{children:[Object(S.jsx)(l.b,{path:"/login",component:I}),Object(S.jsx)(T,{exact:!0,path:"/",component:P}),Object(S.jsx)(T,{path:"/main-page",component:P}),Object(S.jsx)(T,{path:"/new-channel/:id",component:U}),Object(S.jsx)(T,{path:"/user-settings",component:F}),Object(S.jsx)(l.a,{to:"/login"})]})})})})};r.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(G,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.72840286.chunk.js.map